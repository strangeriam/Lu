
# Preparation:
## Go to telnet client tool path.
## cd ..
## cd tools

package require Expect
# Output: 5.43.2

spawn plink -telnet 192.168.1.201

expect -i exp2 ".*login: " { exp_send "igw5000\r" }
expect -i exp2 "Password: " { exp_send "igw5000\r" }

# 以上 Telnet 登入成功後,
# 再下 expect_background, 往後的輸入皆會有 Log 輸出.
expect_background {
     -i exp2 -re ".*" {
              puts $expect_out(buffer)
}}

exp_send -i exp2 "df -h\r"
exp_send -i exp2 "ll\r"

exp_send "exit\r"

